<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <link rel="stylesheet" href=".Dashboard/static/css/style.css">
</head>
<body>     
  <div class="container">
    <nav class="navbar";>
      <a class="navbar-brand mb-0 h1" href="https://github.com/wattsr1/LA_Collision_Analysis.git">Link to GitHub Repository
      </a>
    </nav>
    <div class="row">
      <div class="col-md-12 jumbotron text-center">
        <h1>Accident Severity Analysis</h1>
        <p>Machine Learning to Identify Accident Severity Factors</p>
      </div>
    </div>
    <ul class="nav nav-pills col-mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <a class="nav-link active" id="pills-summary-tab" data-toggle="pill" href="#pills-summary" role="tab" aria-controls="pills-summary" aria-selected="true">Data Summary</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link active" id="pills-collision-tab" data-toggle="pill" href="#pills-collision" role="tab" aria-controls="pills-collision" aria-selected="true">Collision Data</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="pills-accident-tab" data-toggle="pill" href="#pills-accident" role="tab" aria-controls="pills-accident" aria-selected="false">Accident Details</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="pills-car-tab" data-toggle="pill" href="#pills-car" role="tab" aria-controls="pills-car" aria-selected="false">ML Passenger Car</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="pills-truck-tab" data-toggle="pill" href="#pills-truck" role="tab" aria-controls="pills-truck" aria-selected="false">ML Pickup Truck</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="pills-mc-tab" data-toggle="pill" href="#pills-mc" role="tab" aria-controls="pills-mc" aria-selected="false">ML Motorcycle</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="pills-severity-tab" data-toggle="pill" href="#pills-severity" role="tab" aria-controls="pills-severity" aria-selected="false">Collision Severity</a>
      </li>
    </ul>
    <div class="tab-content" id="pills-tabContent">
      <div class="tab-pane fade show active" id="pills-summary" role="tabpanel" aria-labelledby="v-pills-summary-tab">
        <p> Welcome to the LA Collision Analysis Dashboard!  Using data sourced from [Transportation Injury Mapping System](https://tims.berkeley.edu) an analysis of the collision severity factors was conducted.  The goal of this project is to use machine learning and data analysis to The summary of the data displayed below highlights the size of the dataset and an overview of the accident condition data from the dataset.  From the data it shows that the general conditions during accidents are normal with minimal extreme conditions observed.
        </p>
        <div class='tableauPlaceholder' id='viz1648659369924' style='position: relative'><noscript><a href='#'><img alt='Dashboard 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard2&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='LA_Collision_Dashboard&#47;Dashboard2' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard2&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' />  <param name='device' value='desktop' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1648659369924');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='1427px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
      </div>
      <div class="tab-pane fade" id="pills-collision" role="tabpanel" aria-labelledby="v-pills-collision-tab">
        <p> The number and distribution of accidents in LA County show a wide distribution across most motorways.  Daytime collisions are the dominated observation with peaks during morning and evening commute hours.  The distribution of accidents shows a consistent trend year over year with peaks in October and the lowest accident rates in January and February.  An increase in fatalities year over year are observed which does not correspond to the accident number during the same period.
        </p>
        <div class='tableauPlaceholder' id='viz1648659369924' style='position: relative'><noscript><a href='#'><img alt='Dashboard 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard2&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='LA_Collision_Dashboard&#47;Dashboard2' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard2&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' />  <param name='device' value='desktop' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1648659369924');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='1427px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
      </div>
      <div class="tab-pane fade" id="pills-accident" role="tabpanel" aria-labelledby="v-pills-accident-tab">
        <p> Data related to the types of collisions observed are presented to show the trends observed based on the dataset.  The accident types show dominate rear-end and broadside accidents observed.  The collision data shows daily trends with morning and evening commutes having the greatest number of collisions with Friday afternoon being the highest number.  Driver violations show speed and right-of-way offences are linked to the most collisions.  Noting the age of victims involved in collisions there is a significant spike observed between the ages of 21-29.
        </p>
        <div class='tableauPlaceholder' id='viz1648747636736' style='position: relative'><noscript><a href='#'><img alt='Dashboard 3 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard3&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='LA_Collision_Dashboard&#47;Dashboard3' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard3&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' />  <param name='device' value='desktop' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1648747636736');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='1227px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
      </div>
      <div class="tab-pane fade" id="pills-car" role="tabpanel" aria-labelledby="v-pills-car-tab">  
        <p> The model created using the passenger car data had and accuracy of 75.96% which is a moderate indicator of predictability using this data.  The model was better at predicting the non-severe injuries with 24% false positives versus 27% false negatives for severe injures.  This is reflected in the F1 score that has an 86% for non-severe and 11% for severe injuries.  As this is an unbalanced model with severe injuries being represented less in the data it shows the challenges of creating an accurate model.  Based on the analysis the top importances identified using this model the factors that contributed to the predictions were identified. These can be investigated further to evaluate the key factor and how they correspond to severe injuries as observed in the data.
        </p>
        <table class="table table-lg"
          <tr>
            <td> Confusion Matrix </td>
            <td> Top Importance features </td>
          </tr>
          <tr>
            <td> <img src="Dashboard/static/images/confusion_matrix_auto.png" /> </td>
            <td> <img src="Dashboard/static/images/topfeaturerankingauto.png" /> </td>
          </tr>
          <tr>
            <td colspan="2"> Classification report ML Passenger Cars </td>
          </tr>
          <tr>
            <td colspan="2"> <img src="Dashboard/static/images/classification_report_auto.png" /> </td>
          </tr>
        </table>
      </div>
      <div class="tab-pane fade" id="pills-truck" role="tabpanel" aria-labelledby="v-pills-truck-tab">
        <p> The analysis of the collisions involving pickup trucks involved a much smaller sample size of only 9435 collisions.  This model had a higher accuracy than observed in the passenger car model with a calculated value of 77.6% which also makes it a moderately accurate model.  An analysis of the model show that it has an 28% false positive prediction and a 20% false negative indicating that this model was stronger at predicting severe injuries than observed in the model create using the passenger car data.  The top importances highlighted some key indicators for injury severity and using this information further analysis of these key factors in relation to the severity of the injuries can be conducted.  Again this model involved unbalanced data which adds to the challenge of the creation of an accurate predictive model.
        </p>
        <table class="table table-sm"
          <tr>
            <td>Confusion Matrix</th>
            <td>Top Importance features</th>
          </tr>
          <tr>
            <td> <img src="Dashboard/static/images/confusion_matrix_truck.png" /> </td>
            <td> <img src="Dashboard/static/images/topfeatureranking_truck.png" /> </td>
          </tr>
          <tr>
            <td colspan="2"> Classification report ML Trucks</td>
          </tr>
          <tr>
            <td colspan="2"> <img src="Dashboard/static/images/classification_report_truck.png" /> </td>
          </tr>
        </table>
      </div>
      <div class="tab-pane fade" id="pills-mc" role="tabpanel" aria-labelledby="v-pills-mc-tab">
        <p> The analysis of the motorcycle data contained a much smaller dataset containing only 2835 incidents.  The accuracy of the model was much lower at 66.14% making it a much less dependable model for predicting the severity of the injuries in the collision. This was evident in the 36% false positives observed from the testing set. There were 28% false negatives identified indicating that the model was better at predicting severe injuries however the model is limited in its predictive strength.  The top importances identified showed two categories contributed the most to the model which involved victim sobriety and if the victim was ejected from the vehicle.  These factors can be used for further analysis on the dataset to see how they contributed to the severity of the accidents.
        </p>
        <table class="table table-lg"
          <tr>
            <td>Confusion Matrix</th>
            <td>Top Importance features</th>
          </tr>
          <tr>
            <td> <img src="Dashboard/static/images/confusion_matrix_mc.png" /> </td>
            <td> <img src="Dashboard/static/images/topfeatureranking_mc.png" /> </td>
          </tr>
          <tr>
            <td colspan="2"> Classification report ML Motorcycle/Scooters </td>
          </tr>
          <tr>
            <td colspan="2"> <img src="Dashboard/static/images/classification_report_mc.png"/> </td>
          </tr>
        </table>
      </div>
      <div class="tab-pane fade" id="pills-severity" role="tabpanel" aria-labelledby="v-pills-severity-tab">
        <p> The top features identified with the machine learning give some insight into what factors correspond to severe injury.  Using the graphs below the key features can be filtered by vehicle and the key features highlighted to observe what features were identified and the % of collisions and % of severe injuries corresponding to each feature.  This allows the identification of positive and negative identifiers which gives greater insight into the findings from the BRFC models.
        </p>
        <div class='tableauPlaceholder' id='viz1648747351360' style='position: relative'><noscript><a href='#'><img alt='Dashboard 4 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard4&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='LA_Collision_Dashboard&#47;Dashboard4' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;LA&#47;LA_Collision_Dashboard&#47;Dashboard4&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' />  <param name='device' value='desktop' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1648747351360');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='2077px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>
</html>

